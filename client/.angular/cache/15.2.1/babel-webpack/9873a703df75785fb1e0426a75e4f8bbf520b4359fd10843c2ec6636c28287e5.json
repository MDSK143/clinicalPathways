{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"ngx-loader-spinner\";\nimport * as i3 from \"src/services/user.service\";\nimport * as i4 from \"@angular/common\";\nfunction SidebarComponent_a_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵlistener(\"click\", function SidebarComponent_a_15_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.routePage(\"pathways\"));\n    });\n    i0.ɵɵelement(1, \"span\", 11);\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3, \"Add/Modify Pathways\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r0.currentPage == \"/pathways\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"bi-white\", ctx_r0.currentPage == \"/pathways\");\n  }\n}\nfunction SidebarComponent_a_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵlistener(\"click\", function SidebarComponent_a_16_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.routePage(\"users\"));\n    });\n    i0.ɵɵelement(1, \"span\", 12);\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3, \"Grant Access to Users\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r1.currentPage == \"/users\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"bi-white\", ctx_r1.currentPage == \"/users\");\n  }\n}\nexport class SidebarComponent {\n  constructor(router, spinnerService, userService) {\n    this.router = router;\n    this.spinnerService = spinnerService;\n    this.userService = userService;\n    this.currentPage = '';\n    this.isAdmin = localStorage.getItem('isAdmin');\n    this.fullName = '';\n  }\n  ngOnInit() {\n    this.currentPage = this.router.url;\n    this.getUserByQuery();\n  }\n  //Route to desired screen\n  routePage(pageToRoute) {\n    this.router.navigate([`/${pageToRoute}`]);\n  }\n  //Logout\n  logout() {\n    this.router.navigate([`/`]);\n    localStorage.setItem('isAuthenticated', 'false');\n  }\n  getUserByQuery() {\n    this.spinnerService.show();\n    try {\n      this.userService.getUserbyQuery(`_id=${localStorage.getItem('userId')}`).subscribe(response => {\n        console.log(`User Data: ${JSON.stringify(response)}`);\n        this.fullName = response.body[0].firstName + ' ' + response.body[0].lastName;\n        this.spinnerService.hide();\n      }, err => {\n        console.error(`Error [getUser]:  , ${JSON.stringify(err.error)}`);\n        this.spinnerService.hide();\n      });\n    } catch (err) {\n      console.error(`Error [getUser]:  , ${JSON.stringify(err)}`);\n      this.spinnerService.hide();\n    }\n  }\n}\nSidebarComponent.ɵfac = function SidebarComponent_Factory(t) {\n  return new (t || SidebarComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.NgxLoaderSpinnerService), i0.ɵɵdirectiveInject(i3.UserService));\n};\nSidebarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SidebarComponent,\n  selectors: [[\"app-sidebar\"]],\n  decls: 21,\n  vars: 11,\n  consts: [[\"id\", \"sidebar\", 1, \"col-md-3\", \"col-lg-2\", \"px-0\", \"position-fixed\", \"h-100\", \"bg-white\", \"shadow-sm\", \"sidebar\"], [1, \"text-primary\", \"d-flex\", \"my-4\", \"justify-content-center\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"src\", \"assets/img/logo.png\", 2, \"height\", \"25%\", \"width\", \"25%\"], [1, \"text-primary\", \"d-flex\", \"justify-content-center\"], [1, \"list-group\", \"rounded-0\"], [1, \"list-group-item\", \"list-group-item-action\", \"border-0\", \"d-flex\", \"align-items-center\", 3, \"click\"], [1, \"bi\", \"bi-border-all\"], [1, \"ml-2\"], [1, \"bi\", \"bi-person\"], [\"class\", \"list-group-item list-group-item-action border-0 d-flex align-items-center\", 3, \"active\", \"click\", 4, \"ngIf\"], [1, \"bi\", \"bi-box-arrow-right\"], [1, \"bi\", \"bi-text-center\"], [1, \"bi\", \"bi-check-all\"]],\n  template: function SidebarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n      i0.ɵɵlistener(\"click\", function SidebarComponent_Template_h4_click_1_listener() {\n        return ctx.routePage(\"inner-dashboard\");\n      });\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"h5\", 3)(4, \"p\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"a\", 5);\n      i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_7_listener() {\n        return ctx.routePage(\"inner-dashboard\");\n      });\n      i0.ɵɵelement(8, \"span\", 6);\n      i0.ɵɵelementStart(9, \"span\", 7);\n      i0.ɵɵtext(10, \" Dashboard\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"a\", 5);\n      i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_11_listener() {\n        return ctx.routePage(\"account\");\n      });\n      i0.ɵɵelement(12, \"span\", 8);\n      i0.ɵɵelementStart(13, \"span\", 7);\n      i0.ɵɵtext(14, \"My Account\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(15, SidebarComponent_a_15_Template, 4, 4, \"a\", 9);\n      i0.ɵɵtemplate(16, SidebarComponent_a_16_Template, 4, 4, \"a\", 9);\n      i0.ɵɵelementStart(17, \"a\", 5);\n      i0.ɵɵlistener(\"click\", function SidebarComponent_Template_a_click_17_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵelement(18, \"span\", 10);\n      i0.ɵɵelementStart(19, \"span\", 7);\n      i0.ɵɵtext(20, \"Logout\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.fullName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"active\", ctx.currentPage == \"/admin-dashboard\" || ctx.currentPage == \"/user-dashboard\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassProp(\"bi-white\", ctx.currentPage == \"/admin-dashboard\" || ctx.currentPage == \"/user-dashboard\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.currentPage == \"/account\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassProp(\"bi-white\", ctx.currentPage == \"/account\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAdmin == \"true\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAdmin == \"true\");\n    }\n  },\n  dependencies: [i4.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","SidebarComponent","constructor","router","spinnerService","userService","localStorage","getItem","ngOnInit","currentPage","url","getUserByQuery","routePage","pageToRoute","navigate","logout","setItem","show","getUserbyQuery","subscribe","response","console","log","JSON","stringify","fullName","body","firstName","lastName","hide","err","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\LENOVO\\Desktop\\clinicalPathways-angular\\client\\src\\components\\sidebar\\sidebar.component.html","C:\\Users\\LENOVO\\Desktop\\clinicalPathways-angular\\client\\src\\components\\sidebar\\sidebar.component.ts"],"sourcesContent":["<div\n  class=\"col-md-3 col-lg-2 px-0 position-fixed h-100 bg-white shadow-sm sidebar\"\n  id=\"sidebar\"\n>\n  <h4\n    style=\"cursor: pointer\"\n    class=\"text-primary d-flex my-4 justify-content-center\"\n    (click)=\"routePage('inner-dashboard')\"\n  >\n    <img src=\"assets/img/logo.png\" style=\"height: 25%; width: 25%\" />\n  </h4>\n  <h5 class=\"text-primary d-flex justify-content-center\">\n    <p>{{fullName}}</p>\n  </h5>\n  <div class=\"list-group rounded-0\">\n    <a\n      (click)=\"routePage('inner-dashboard')\"\n      class=\"list-group-item list-group-item-action border-0 d-flex align-items-center\"\n      [class.active]=\"\n        currentPage == '/admin-dashboard' || currentPage == '/user-dashboard'\n      \"\n    >\n      <span\n        class=\"bi bi-border-all\"\n        [class.bi-white]=\"\n          currentPage == '/admin-dashboard' || currentPage == '/user-dashboard'\n        \"\n      ></span>\n      <span class=\"ml-2\"> Dashboard</span>\n    </a>\n    <a\n      (click)=\"routePage('account')\"\n      class=\"list-group-item list-group-item-action border-0 d-flex align-items-center\"\n      [class.active]=\"currentPage == '/account'\"\n    >\n      <span\n        class=\"bi bi-person\"\n        [class.bi-white]=\"currentPage == '/account'\"\n      ></span>\n      <span class=\"ml-2\">My Account</span>\n    </a>\n    <a\n      (click)=\"routePage('pathways')\"\n      class=\"list-group-item list-group-item-action border-0 d-flex align-items-center\"\n      [class.active]=\"currentPage == '/pathways'\"\n      *ngIf=\"isAdmin == 'true'\"\n    >\n      <span\n        class=\"bi bi-text-center\"\n        [class.bi-white]=\"currentPage == '/pathways'\"\n      ></span>\n      <span class=\"ml-2\">Add/Modify Pathways</span>\n    </a>\n    <a\n      (click)=\"routePage('users')\"\n      class=\"list-group-item list-group-item-action border-0 d-flex align-items-center\"\n      [class.active]=\"currentPage == '/users'\"\n      *ngIf=\"isAdmin == 'true'\"\n    >\n      <span\n        class=\"bi bi-check-all\"\n        [class.bi-white]=\"currentPage == '/users'\"\n      ></span>\n      <span class=\"ml-2\">Grant Access to Users</span>\n    </a>\n    <a\n      (click)=\"logout()\"\n      class=\"list-group-item list-group-item-action border-0 d-flex align-items-center\"\n    >\n      <span class=\"bi bi-box-arrow-right\"></span>\n      <span class=\"ml-2\">Logout</span>\n    </a>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NgxLoaderSpinnerService } from 'ngx-loader-spinner';\nimport { UserService } from 'src/services/user.service';\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.css'],\n})\nexport class SidebarComponent {\n  constructor(\n    private router: Router,\n    private spinnerService: NgxLoaderSpinnerService,\n    private userService: UserService\n  ) {}\n\n  currentPage: string = '';\n  isAdmin = localStorage.getItem('isAdmin');\n  fullName: string = '';\n  \n\n  ngOnInit() {\n    this.currentPage = this.router.url;\n    this.getUserByQuery();\n  }\n\n  //Route to desired screen\n  routePage(pageToRoute: any) {\n    this.router.navigate([`/${pageToRoute}`]);\n  }\n\n  //Logout\n  logout() {\n    this.router.navigate([`/`]);\n    localStorage.setItem('isAuthenticated', 'false');\n  }\n\n  getUserByQuery() {\n    this.spinnerService.show();\n    try {\n      this.userService\n        .getUserbyQuery(`_id=${localStorage.getItem('userId')}`)\n        .subscribe(\n          (response: any) => {\n            console.log(`User Data: ${JSON.stringify(response)}`);\n            this.fullName =\n              response.body[0].firstName + ' ' + response.body[0].lastName;\n            this.spinnerService.hide();\n          },\n          (err: any) => {\n            console.error(`Error [getUser]:  , ${JSON.stringify(err.error)}`);\n            this.spinnerService.hide();\n          }\n        );\n    } catch (err: any) {\n      console.error(`Error [getUser]:  , ${JSON.stringify(err)}`);\n      this.spinnerService.hide();\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}